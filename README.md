# protei-task
Написать DDT (data driven tests) тесты публичного API геокодинга проект [nominatim](https://nominatim.openstreetmap.org/ui/search.html).
Протестировать необходимо прямое (адрес -> координаты) и обратное (координаты -> адрес) геокодирование.
## Тесты
### test_api_search_json
 - имеет объект адрес, который сравнивается с ответом. 
### test_api_search_csv
 - имеет только наименование адреса, которое сравнивается с объектом адреса ответа, если все слова содержаться в ответе, то ответ считается валидным.
## Входные данные
- config
  - data.json
  - data.csv

### Пример json
```json
{
"0": {
    "place_id": 68819017,
    "display_name": "749 Tatum Street Hamline - Midway Сент-Пол Ramsey County Миннесота 55104 Соединённые Штаты Америки",
    "address": {
      "ISO3166-2-lvl4": "US-MN",
      "city": "Сент-Пол",
      "country": "Соединённые Штаты Америки",
      "country_code": "us",
      "county": "Ramsey County",
      "house_number": "749",
      "postcode": "55104",
      "road": "Tatum Street",
      "state": "Миннесота",
      "suburb": "Hamline - Midway"
    },
    "coordinates": {
      "lat": "44.9635623",
      "lon": "-93.180059"
    }
  }
}
```
### Пример csv
```
address                                                                                            | place_id    | lat        | lon
-------------------------------------------------------------------------------------------------- | ----------- | ---------- | ----------
749 Tatum Street Hamline - Midway Сент-Пол Ramsey County Миннесота 55104 Соединённые Штаты Америки | 68819017    | 44.9635623 | -93.180059
```

## Запуск тестов
```
pytest
```
## Jenkins
Для запуска тестов был реализован файл Jenkinsfile.

## Отчеты Allure
Реализовано формирование отчетов с использованием фреймворка Allure. 
Файлы отчета складываются в каталог "allure-results" в корне проекта. 
(Каталог для формирования отчетов прописан в файле "pytest.ini")